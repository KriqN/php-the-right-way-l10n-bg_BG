---
title:   Кеширане на обекти
isChild: true
---

## Кеширане на обекти

Има моменти, когато е важно да кеширате индивидуални обекти в вашият код, например когато достъпването на данните
от базата данни е бавна операция, а резултатът рядко се променя. Можете да ползвате обекно кеширане в този случай,
за да запазвате данните в паметта за изключително бърз достъп. Ако съхраните данните в хранилище за данни (кеш) след като
ги извлечете от базата данни и в последващите заявки ги извличате от кеша, ще получите значително подобрение в
производителността, както и ще намалите натоварването на база данни сървърите.

Много от популярните решения за кеширане на байткод, също предоставят механизми за съхранение на данни, от което
може да се възползвате. APC, XCache и WinCache предоставят API-и за съхранение на данни в тяхната памет директно
от вашият PHP код.

Най-често ползваните системи за обектно кеширане са APC и memcached. APC е един отличен избор за обектно кеширане,
защото включва просто API за добавяне на ваши данни в кеш паметта и е много просто за настройка и ползване.
Основен проблем на APC е това, че е обвързан със срвъра на който е инсталиран. От друга страна, memcached е инсталиран
като отделна услуга и може да бъде достъпван през мрежата, което означава, че може да запазвате обекти в много бързо
хранилище за данни, намиращи се на централно място, и много системи могат да извличат данни от него.

При проста мрежова конфигурация APC обикновено е по-бърз от memcached, но memcached може да се разширява по-бързо и
повече. Ако не смятате, че вашето приложение трябва да работи на повече от един сървър, нямате
нужда от допълнителните възможности на memcached и вероятно APC е най-добрият избор за кеширане на обекти.

Опростен пример и логика чрез APC:

{% highlight php %}
<?php
// Проверяваме дали има данни с име 'expensive_data' в кеша
if (apc_fetch('expensive_data') === false) {
    // данните не са в кеша; изпълни скъпо извикване и съхрани за последващо използване
    apc_add('expensive_data', get_expensive_data());
}

print_r(apc_fetch('expensive_data'));
{% endhighlight %}

НАучете повече за по-известните системи за кеширане на обекти:

* [Функции на APC](http://php.net/manual/en/ref.apc.php)
* [Memcached](http://memcached.org/)
* [Redis](http://redis.io/)
* [XCache API](http://xcache.lighttpd.net/wiki/XcacheApi)
* [Функции наWinCache](http://www.php.net/manual/en/ref.wincache.php)
